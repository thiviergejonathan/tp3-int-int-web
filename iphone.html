<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Apple à la Joe</title>
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/styles.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.8.1/flowbite.min.css" rel="stylesheet" />
</head>

<body>

    <header>
        <ul class="flex gap-12 justify-center mt-8 text-3xl">
            <li>
                <a href="index.html">
                    <h1>
                        <img class="w-8" src="images/apple-small.png" alt="Logo Apple">
                    </h1>
                </a>
            </li>
            <li><a href="iphone.html">iPhone</a></li>
            <li><a href="">iPad</a></li>
            <li><a href="">Mac</a></li>
            <li><a href="">Watch</a></li>
            <li><a href="support.html">+</a></li>
        </ul>

    </header>

    <div class="container">
        <main>
            <section class="w-full flex justify-evenly gap-16 mt-16">
                <div class="w-1/4 h-full flex flex-col items-center">
                    <div class="bg-[url(images/iphone14.png)] bg-cover w-full h-[32rem] rounded-3xl border-4"></div>
                    <span class="text-[3rem]">iPhone 14</span>
                </div>
                <div class="w-1/4 h-full flex flex-col items-center">
                    <div class="bg-[url(images/iphone14pro.png)] bg-cover w-full h-[32rem] rounded-3xl border-4"></div>
                    <span class="text-[3rem]">iPhone 14 Pro</span>
                </div>
            </section>
            <section class="mt-16 flex justify-center">
                <iframe class="w-[90rem] h-[50rem]" src="https://www.youtube.com/embed/FT3ODSg1GFE?si=EGXrIOPABUZcENeK"
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    allowfullscreen></iframe>
            </section>
            <section> <!-- Component https://tailwindcomponents.com/component/testing -->
                <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.js" defer></script>
                <script src="https://cdn.jsdelivr.net/npm/countup@1.8.2/dist/countUp.min.js"></script>

                <style>
                    @import url('https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/5.3.45/css/materialdesignicons.min.css')
                </style>

                <div class="min-w-screen bg-white flex items-center justify-center px-5 py-5 mt-16">
                    <div class="bg-slate-50 text-black-500 rounded shadow-xl py-5 px-5 w-full sm:w-2/3 md:w-1/2 lg:w-1/3"
                        x-data="{cardOpen:false,cardData:cardData()}"
                        x-init="$watch('cardOpen', value => value?(cardData.countUp($refs.total,0,null,null,2),cardData.sessions.forEach((el,i) => cardData.countUp($refs[`device${i}`],0,cardData.sessions[i].c,null,1.6))):null);setTimeout(()=>{cardOpen=true},100)">
                        <div class="flex w-full">
                            <h3 class="text-lg font-semibold leading-tight flex-1">AUGMENTATION DES PERFORMANCES</h3>
                            <div class="relative h-5 leading-none">
                                <!--button class="text-xl text-gray-900 hover:text-gray-500 h-6 focus:outline-none"
                                    @click.prevent="cardOpen=!cardOpen">
                                    <i class="mdi" :class="'mdi-chevron-'+(cardOpen?'up':'down')"></i>
                                </button-->
                            </div>
                        </div>
                        <div class="relative overflow-hidden transition-all duration-500" x-ref="card"
                            x-bind:style="`max-height:${cardOpen?$refs.card.scrollHeight:0}px; opacity:${cardOpen?1:0}`">
                            <div>
                                <div class="pb-4 lg:pb-6">
                                    <h4 class="text-2xl lg:text-3xl text-black font-semibold leading-tight inline-block hidden"
                                        x-ref="total"></h4>
                                </div>
                                <div class="pb-4 lg:pb-6">
                                    <div class="overflow-hidden rounded-full h-3 bg-slate-50 flex transition-all duration-500"
                                        :class="cardOpen?'w-full':'w-0'">
                                        <template x-for="(item,index) in cardData.sessions">
                                            <div class="h-full" :class="`bg-${item.color}`"
                                                :style="`width:${item.size}%`"></div>
                                        </template>
                                    </div>
                                </div>
                                <div class="flex -mx-4">
                                    <template x-for="(item,index) in cardData.sessions">
                                        <div class="w-1/3 px-4" :class="{'border-l border-gray-700':index!==0}">
                                            <div class="text-sm">
                                                <span class="inline-block w-2 h-2 rounded-full mr-1 align-middle"
                                                    :class="`bg-${item.color}`">&nbsp;</span>
                                                <span class="align-middle text-gray-500"
                                                    x-text="item.label">&nbsp;</span>
                                            </div>
                                            <div class="font-medium text-lg text-black">
                                                <span :x-ref="`device${index}`">0</span>%
                                            </div>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <script>
                    let cardData = function () {

                        return {
                            countUp: function (target, startVal, endVal, decimals, duration) {
                                const countUp = new CountUp(target, startVal || 0, endVal, decimals || 0,
                                    duration || 2);
                                countUp.start();
                            },
                            sessions: [{
                                    "label": "iPhone 12",
                                    "size": 35,
                                    "c": 35,
                                    "color": "purple-200",
                                },
                                {
                                    "label": "iPhone 13",
                                    "size": 25,
                                    "c": 60,
                                    "color": "purple-300"
                                },
                                {
                                    "label": "iPhone 14",
                                    "size": 25,
                                    "c": 85,
                                    "color": "purple-400"
                                },

                                {
                                    "label": "14 Pro",
                                    "size": 15,
                                    "c": 100,
                                    "color": "purple-500"
                                },


                            ]
                        }
                    }
                </script>
            </section>
        </main>
    </div>

    <footer class="mt-24 pt-8 pb-6 border-t-4 flex justify-center">
        <span class="text-gray-400">Créé par Jonathan Thivierge | Aucune association avec Apple Inc. | Plan du site |
            Canada (Français)</span>
    </footer>

</body>

</html>